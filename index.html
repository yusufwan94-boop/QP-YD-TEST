<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QP-YD | MRSM Gerik Duality Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background: #0f172a; color: #f8fafc; scroll-behavior: smooth; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.1); }
        .flip-card { height: 180px; perspective: 1000px; cursor: pointer; }
        .flip-card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; }
        .flip-card.is-flipped .flip-card-inner { transform: rotateY(180deg); }
        .flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; border-radius: 1rem; }
        .flip-card-front { background: #1e293b; border: 1px solid #334155; }
        .flip-card-back { background: #3b82f6; color: white; transform: rotateY(180deg); text-align: center; font-size: 0.85rem; }
        .metal-surface { position: relative; height: 280px; background: #1e293b; border-radius: 1.5rem; border: 2px solid #334155; overflow: hidden; }
        .barrier-line { position: absolute; left: 50%; top: 0; bottom: 0; width: 2px; background: rgba(239, 68, 68, 0.4); border-left: 2px dashed #ef4444; z-index: 10; }
        .electron { width: 14px; height: 14px; background: #60a5fa; border-radius: 50%; position: absolute; box-shadow: 0 0 12px #3b82f6; z-index: 20; transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.3s; }
        .photon { width: 10px; height: 10px; border-radius: 50%; position: absolute; left: -20px; z-index: 50; }
        .wave-container { position: relative; height: 300px; background: #000; border-radius: 1rem; overflow: hidden; border: 2px solid #334155; }
        .fringe { height: 100%; position: absolute; top: 0; width: 4px; transition: opacity 0.5s; }
        .electron-dot { width: 4px; height: 4px; background: #60a5fa; border-radius: 50%; position: absolute; box-shadow: 0 0 4px #3b82f6; }
        .tab-active { border-bottom: 4px solid #3b82f6; color: white; opacity: 1; }
        .tab-inactive { opacity: 0.5; }
    </style>
</head>
<body class="pb-20">

    <nav class="sticky top-0 z-50 glass border-b border-slate-700 py-4 px-6">
        <div class="max-w-7xl mx-auto flex justify-between items-center text-center">
            <h1 class="text-3xl font-black tracking-tighter text-blue-400">QP-YD</h1>
            <div class="flex gap-4 md:gap-8">
                <button onclick="switchTab('photo')" id="btn-photo" class="text-[10px] md:text-xs font-bold uppercase tracking-widest py-2 tab-active">Photoelectric</button>
                <button onclick="switchTab('duality')" id="btn-duality" class="text-[10px] md:text-xs font-bold uppercase tracking-widest py-2 tab-inactive">Duality</button>
            </div>
            <span class="hidden md:inline bg-blue-600/20 text-blue-400 px-3 py-1 rounded-full text-[10px] font-bold border border-blue-500/30 uppercase">MRSM Gerik Official</span>
        </div>
    </nav>

    <main id="view-photo" class="max-w-7xl mx-auto px-6 py-12 space-y-12">
        <header class="text-center">
            <h2 class="text-5xl font-black mb-4 tracking-tight">Particle <span class="text-blue-500">Nature.</span></h2>
            <p class="text-slate-400 max-w-2xl mx-auto italic">Proving that E = hf (Energy depends on Frequency, not Intensity).</p>
        </header>

        <section class="grid lg:grid-cols-2 gap-8 items-start">
            <div class="glass p-8 rounded-3xl space-y-6 shadow-2xl">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold uppercase tracking-tight text-slate-300">Physical Pool</h3>
                    <div id="statusIndicator" class="text-[10px] bg-slate-500/20 text-slate-400 px-2 py-1 rounded border border-slate-500/20 font-mono tracking-widest uppercase">Standby</div>
                </div>
                <div class="metal-surface" id="photo-arena"><div class="barrier-line"></div></div>
                <div class="grid grid-cols-4 gap-2">
                    <button onclick="setPhotoColor(4.6, '#ef4444')" class="py-2 rounded-lg bg-red-600/20 border border-red-600/50 hover:bg-red-600 text-[10px] font-bold">RED (4.6)</button>
                    <button onclick="setPhotoColor(5.5, '#22c55e')" class="py-2 rounded-lg bg-green-600/20 border border-green-600/50 hover:bg-green-600 text-[10px] font-bold">GREEN (5.5)</button>
                    <button onclick="setPhotoColor(6.7, '#3b82f6')" class="py-2 rounded-lg bg-blue-600/20 border border-blue-600/50 hover:bg-blue-600 text-[10px] font-bold">BLUE (6.7)</button>
                    <button onclick="setPhotoColor(12.0, '#a855f7')" class="py-2 rounded-lg bg-purple-600/20 border border-purple-600/50 hover:bg-purple-600 text-[10px] font-bold">UV (12.0)</button>
                </div>
                <div class="grid grid-cols-3 gap-2">
                    <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700">
                        <label class="block text-[10px] font-black text-blue-400 uppercase mb-2">Freq (10^14 Hz)</label>
                        <input type="range" id="fIn" min="0" max="20" step="0.1" value="5.5" class="w-full" oninput="updatePhoto()">
                        <div id="fOut" class="text-xl font-black mt-1">5.5</div>
                    </div>
                    <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700">
                        <label class="block text-[10px] font-black text-amber-400 uppercase mb-2">Int (W/m^2)</label>
                        <input type="range" id="iIn" min="1" max="15" value="5" class="w-full" oninput="updatePhoto()">
                        <div id="iOut" class="text-xl font-black mt-1">5</div>
                    </div>
                    <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700">
                        <label class="block text-[10px] font-black text-red-400 uppercase mb-2">Work function (eV)</label>
                        <input type="range" id="tIn" min="1.5" max="5.5" step="0.1" value="2.3" class="w-full" oninput="updatePhoto()">
                        <div id="tOut" class="text-xl font-black mt-1">2.3</div>
                    </div>
                </div>
                <button onclick="firePhotons()" class="w-full bg-blue-600 hover:bg-blue-500 py-5 rounded-2xl font-black text-lg shadow-xl uppercase tracking-widest transition-all">Execute Emission</button>
            </div>
            <div class="glass p-8 rounded-3xl shadow-2xl flex flex-col h-full min-h-[500px]">
                <h3 class="text-xl font-bold uppercase tracking-tight text-slate-300 mb-6 italic">Energy Analysis Graph</h3>
                <div class="flex-grow"><canvas id="quantumGraph"></canvas></div>
            </div>
        </section>

        <section class="py-12">
            <h3 class="text-2xl font-black mb-8 text-center uppercase tracking-widest text-slate-500">Observation Logs (Particle)</h3>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="flip-card" onclick="this.classList.toggle('is-flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front text-center">
                            <span class="text-amber-500 text-xs font-bold mb-2">LOG 01: INTENSITY</span>
                            <p class="text-sm font-bold">Does more light intensity guarantee emission?</p>
                        </div>
                        <div class="flip-card-back">
                            <p class="font-black mb-2">NO.</p>
                            <p>If f < fo, increasing intensity just hits the metal with more "weak" photons. Energy is not accumulated over time.</p>
                        </div>
                    </div>
                </div>
                <div class="flip-card" onclick="this.classList.toggle('is-flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front text-center">
                            <span class="text-blue-500 text-xs font-bold mb-2">LOG 02: KINETIC ENERGY</span>
                            <p class="text-sm font-bold">What determines the speed of ejected electrons?</p>
                        </div>
                        <div class="flip-card-back">
                            <p class="font-black mb-2">FREQUENCY.</p>
                            <p>Excess energy (hf - W) becomes Kinetic Energy. Higher frequency means faster photoelectrons.</p>
                        </div>
                    </div>
                </div>
                <div class="flip-card" onclick="this.classList.toggle('is-flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front text-center">
                            <span class="text-red-500 text-xs font-bold mb-2">LOG 03: INSTANT EMISSION</span>
                            <p class="text-sm font-bold">Is there a time lag for emission?</p>
                        </div>
                        <div class="flip-card-back">
                            <p class="font-black mb-2">IMMEDIATE.</p>
                            <p>Emission is instantaneous (< 10^-9 s), proving 1-to-1 particle collision between photon and electron.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <main id="view-duality" class="hidden max-w-7xl mx-auto px-6 py-12 space-y-16">
        <header class="text-center">
            <h2 class="text-5xl font-black mb-4 tracking-tight">Wave <span class="text-cyan-400">Duality.</span></h2>
            <p class="text-slate-400 max-w-2xl mx-auto italic">Comparing Light Interference and Electron Diffraction.</p>
        </header>

        <div class="grid lg:grid-cols-2 gap-12">
            <div class="glass p-8 rounded-3xl space-y-6">
                <h3 class="text-xl font-bold text-cyan-400 uppercase tracking-widest">1. Light (Young's Slit)</h3>
                <div class="wave-container flex items-center justify-around" id="slit-screen"></div>
                <div class="grid grid-cols-3 gap-4 bg-slate-800/50 p-4 rounded-xl">
                    <div>
                        <label class="block text-[10px] font-bold text-slate-400 uppercase mb-2">Wavelength (lambda)</label>
                        <input type="range" id="waveLen" min="400" max="700" value="650" class="w-full" oninput="updateSlit()">
                        <div id="waveLenOut" class="text-sm font-bold text-cyan-400 mt-1">650 nm</div>
                    </div>
                    <div>
                        <label class="block text-[10px] font-bold text-slate-400 uppercase mb-2">Distance (D)</label>
                        <input type="range" id="distD" min="1" max="100" value="50" class="w-full" oninput="updateSlit()">
                        <div id="distDOut" class="text-sm font-bold text-cyan-400 mt-1">50 cm</div>
                    </div>
                    <div>
                        <label class="block text-[10px] font-bold text-slate-400 uppercase mb-2">Slit Width (a)</label>
                        <input type="range" id="slitSep" min="0.1" max="2.0" step="0.1" value="0.5" class="w-full" oninput="updateSlit()">
                        <div id="slitSepOut" class="text-sm font-bold text-cyan-400 mt-1">0.5 mm</div>
                    </div>
                </div>
            </div>

            <div class="glass p-8 rounded-3xl space-y-6">
                <h3 class="text-xl font-bold text-blue-400 uppercase tracking-widest">2. Matter (Electron Wave)</h3>
                <div class="wave-container" id="electron-screen" style="position:relative; background:#000;"></div>
                <div class="bg-slate-800/50 p-4 rounded-xl flex gap-4 items-end">
                    <div class="flex-grow">
                        <label class="block text-[10px] font-bold text-slate-400 uppercase mb-2">Voltage (V)</label>
                        <input type="range" id="eVolt" min="50" max="500" value="200" class="w-full" oninput="updateElectron()">
                        <div class="text-lg font-black mt-1" id="eVoltOut">200V</div>
                    </div>
                    <button onclick="fireElectronGun()" class="bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded font-bold text-xs uppercase">Fire Gun</button>
                    <button onclick="clearElectronScreen()" class="border border-slate-600 px-4 py-2 rounded font-bold text-[10px] uppercase">Clear</button>
                </div>
            </div>
        </div>

        <section class="grid md:grid-cols-2 gap-8 py-12">
            <div class="space-y-6">
                <h4 class="text-center font-bold text-slate-500 uppercase tracking-widest">Light Observation Logs</h4>
                <div class="grid gap-4">
                    <div class="flip-card" onclick="this.classList.toggle('is-flipped')">
                        <div class="flip-card-inner">
                            <div class="flip-card-front text-center">
                                <span class="text-cyan-500 text-xs font-bold mb-2">LOG L1: COLOR CHANGE</span>
                                <p class="text-sm font-bold">How does wavelength affect fringe separation (x)?</p>
                            </div>
                            <div class="flip-card-back">
                                <p class="font-black mb-2">DIRECT RELATION.</p>
                                <p>Longer wavelengths (Red) diffract more than shorter wavelengths (Blue), creating wider gaps between fringes.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card" onclick="this.classList.toggle('is-flipped')">
                        <div class="flip-card-inner">
                            <div class="flip-card-front text-center">
                                <span class="text-cyan-500 text-xs font-bold mb-2">LOG L2: SLIT SEPARATION</span>
                                <p class="text-sm font-bold">Effect of bringing slits closer together (d)?</p>
                            </div>
                            <div class="flip-card-back">
                                <p class="font-black mb-2">INVERSE RELATION.</p>
                                <p>As d decreases, the fringe width x increases according to x = (wavelength x D) / a.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card" onclick="this.classList.toggle('is-flipped')">
                        <div class="flip-card-inner">
                            <div class="flip-card-front text-center">
                                <span class="text-cyan-500 text-xs font-bold mb-2">LOG L3: WAVE PROOF</span>
                                <p class="text-sm font-bold">Why does this prove light is a wave?</p>
                            </div>
                            <div class="flip-card-back">
                                <p class="font-black mb-2">INTERFERENCE.</p>
                                <p>Particles would just create two lines. Alternating bright and dark regions only occur due to wave superposition.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="space-y-6">
                <h4 class="text-center font-bold text-slate-500 uppercase tracking-widest">Electron Observation Logs</h4>
                <div class="grid gap-4">
                    <div class="flip-card" onclick="this.classList.toggle('is-flipped')">
                        <div class="flip-card-inner">
                            <div class="flip-card-front text-center">
                                <span class="text-blue-500 text-xs font-bold mb-2">LOG E1: VOLTAGE IMPACT</span>
                                <p class="text-sm font-bold">What happens when you increase Gun Voltage?</p>
                            </div>
                            <div class="flip-card-back">
                                <p class="font-black mb-2">WAVELENGTH SHORTENS.</p>
                                <p>Higher Voltage causing Higher Momentum causing Smaller de Broglie wavelength (wavelength = h/p).</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card" onclick="this.classList.toggle('is-flipped')">
                        <div class="flip-card-inner">
                            <div class="flip-card-front text-center">
                                <span class="text-blue-500 text-xs font-bold mb-2">LOG E2: PATTERN DENSITY</span>
                                <p class="text-sm font-bold">Why do electrons form "rings" or fringes?</p>
                            </div>
                            <div class="flip-card-back">
                                <p class="font-black mb-2">DIFFRACTION.</p>
                                <p>Electrons behave as waves when passing through atoms, creating constructive and destructive interference patterns.</p>
                            </div>
                        </div>
                    </div>
                    <div class="flip-card" onclick="this.classList.toggle('is-flipped')">
                        <div class="flip-card-inner">
                            <div class="flip-card-front text-center">
                                <span class="text-blue-500 text-xs font-bold mb-2">LOG E3: APPLICATIONS</span>
                                <p class="text-sm font-bold">Why use electron waves instead of light?</p>
                            </div>
                            <div class="flip-card-back">
                                <p class="font-black mb-2">HIGH RESOLUTION.</p>
                                <p>Tiny electron wavelengths allow us to "see" things much smaller than visible light can resolve (Electron Microscopes).</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        const H_EV_SCALE = 0.4136; 

        function switchTab(mode) {
            document.getElementById('view-photo').classList.toggle('hidden', mode !== 'photo');
            document.getElementById('view-duality').classList.toggle('hidden', mode !== 'duality');
            document.getElementById('btn-photo').className = mode === 'photo' ? 'text-[10px] md:text-xs font-bold uppercase tracking-widest py-2 tab-active' : 'text-[10px] md:text-xs font-bold uppercase tracking-widest py-2 tab-inactive';
            document.getElementById('btn-duality').className = mode === 'duality' ? 'text-[10px] md:text-xs font-bold uppercase tracking-widest py-2 tab-active' : 'text-[10px] md:text-xs font-bold uppercase tracking-widest py-2 tab-inactive';
            if(mode === 'duality') { updateSlit(); updateElectron(); }
        }

        const photoArena = document.getElementById('photo-arena');
        const fIn = document.getElementById('fIn'), iIn = document.getElementById('iIn'), tIn = document.getElementById('tIn');
        let photonColor = '#fbbf24';

        function initElectrons() { for(let i=0; i<18; i++) { let e = document.createElement('div'); e.className='electron'; e.style.left=(55+Math.random()*40)+'%'; e.style.top=(15+Math.random()*70)+'%'; photoArena.appendChild(e); } }
        initElectrons();

        function setPhotoColor(f, c) { fIn.value=f; photonColor=c; updatePhoto(); }

        const ctx = document.getElementById('quantumGraph').getContext('2d');
        let chart = new Chart(ctx, { 
            type:'line', 
            data:{
                datasets:[{
                    label: 'Theoretical Line',
                    data:[],borderColor:'#3b82f6',borderWidth:3,pointRadius:0,fill:true,backgroundColor:'rgba(59,130,246,0.05)'
                },{
                    label: 'Current Observation',
                    data:[],backgroundColor:'#fbbf24',pointRadius:8,showLine:false
                }]
            }, 
            options:{
                responsive:true,
                maintainAspectRatio:false,
                scales:{
                    y:{
                        min:-6, max:6,
                        title: { display: true, text: 'Max Kinetic Energy (eV)', color: '#94a3b8', font: { weight: 'bold' } },
                        grid: { color: 'rgba(255,255,255,0.05)' }
                    },
                    x:{
                        type:'linear', min:0, max:20,
                        title: { display: true, text: 'Frequency (10ยนโด Hz)', color: '#94a3b8', font: { weight: 'bold' } },
                        grid: { color: 'rgba(255,255,255,0.05)' }
                    }
                },
                plugins:{legend:{display:false}}
            }
        });

        function updatePhoto() {
            const f=parseFloat(fIn.value), t=parseFloat(tIn.value), i=parseInt(iIn.value);
            document.getElementById('fOut').innerText=f; 
            document.getElementById('tOut').innerText=t; 
            document.getElementById('iOut').innerText=i;
            const kmax = (H_EV_SCALE * f) - t;
            chart.data.datasets[0].data=[{x:0,y:-t},{x:20,y:(H_EV_SCALE*20)-t}]; 
            chart.data.datasets[1].data=[{x:f,y:kmax}]; 
            chart.data.datasets[1].backgroundColor=photonColor; 
            chart.update('none');
            const status = document.getElementById('statusIndicator');
            const isEmitting = (H_EV_SCALE * f) > t;
            status.innerText = !isEmitting ? "No Emission" : "Emission Active";
            status.className = !isEmitting ? 
                "text-[10px] bg-red-500/20 text-red-400 px-2 py-1 rounded border border-red-500/20 font-mono tracking-widest uppercase" : 
                "text-[10px] bg-emerald-500/20 text-emerald-400 px-2 py-1 rounded border border-emerald-500/20 font-mono tracking-widest uppercase";
        }
        updatePhoto();

        function firePhotons() {
            const f=parseFloat(fIn.value), t=parseFloat(tIn.value), intensity=parseInt(iIn.value);
            const isEmitting = (H_EV_SCALE * f) > t;
            for(let i=0; i<intensity; i++) {
                setTimeout(() => {
                    const p=document.createElement('div'); p.className='photon'; p.style.background=photonColor; p.style.top=(10+Math.random()*80)+'%'; photoArena.appendChild(p);
                    const anim=p.animate([{left:'-20px'},{left:'110%'}], {duration:1200-(f*40)});
                    anim.onfinish=()=>p.remove();
                    setTimeout(()=> { 
                        if(isEmitting){ 
                            const es=document.querySelectorAll('.electron'); 
                            const target=es[Math.floor(Math.random()*es.length)]; 
                            if(target && target.style.opacity!=='0'){
                                const speed = 0.4 + ((H_EV_SCALE * f) - t) * 0.2;
                                target.style.transition = `transform ${0.8/speed}s linear, opacity 0.3s`;
                                target.style.transform='translateX(600px)';
                                target.style.opacity='0';
                                setTimeout(()=>{
                                    target.style.transition = 'none';
                                    target.style.transform='none';
                                    target.style.opacity='1';
                                },2000);
                            }
                        } 
                    }, (1200-(f*40))*0.5);
                }, i*80);
            }
        }

        function updateSlit() {
            const lambda = parseFloat(document.getElementById('waveLen').value);
            const d = parseFloat(document.getElementById('slitSep').value);
            const D = parseFloat(document.getElementById('distD').value);
            
            // Update labels
            document.getElementById('waveLenOut').innerText = lambda + " nm";
            document.getElementById('distDOut').innerText = D + " cm";
            document.getElementById('slitSepOut').innerText = d + " mm";

            const screen = document.getElementById('slit-screen');
            if(!screen) return;
            screen.innerHTML = '';
            const color = `hsl(${(1 - (lambda - 400) / 300) * 240}, 100%, 50%)`;
            const spacing = (lambda / 450) * (D / 15) * (1 / d) * 1.2;
            for(let i=-25; i<25; i++) {
                const fr = document.createElement('div');
                fr.className = 'fringe';
                fr.style.left = (50 + i * spacing) + '%';
                fr.style.background = color;
                fr.style.opacity = Math.max(0, Math.cos(i * 0.6) * (1 - Math.abs(i)/30));
                fr.style.boxShadow = `0 0 8px ${color}`;
                screen.appendChild(fr);
            }
        }

        const eScreen = document.getElementById('electron-screen');
        function updateElectron() {
            const v = document.getElementById('eVolt').value;
            document.getElementById('eVoltOut').innerText = v + "V";
        }
        function fireElectronGun() {
            const v = parseInt(document.getElementById('eVolt').value);
            const spacing = (1 / Math.sqrt(v)) * 120; 
            for(let i=0; i<50; i++) {
                setTimeout(() => {
                    const dot = document.createElement('div');
                    dot.className = 'electron-dot';
                    const rand = (Math.random() - 0.5) * 40;
                    const offset = Math.round(rand) * spacing;
                    const intensity = Math.pow(Math.cos(offset * 0.05), 2);
                    if (Math.random() < intensity) {
                        dot.style.left = (50 + offset/2) + '%';
                        dot.style.top = (Math.random() * 95) + '%';
                        dot.style.opacity = '0';
                        eScreen.appendChild(dot);
                        dot.animate([{opacity:0}, {opacity:0.8}], {duration: 500, fill: 'forwards'});
                    }
                }, i * 20);
            }
        }
        function clearElectronScreen() { if(eScreen) eScreen.innerHTML = ''; }
    </script>
</body>
</html>
